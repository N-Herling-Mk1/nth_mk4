<!-- File: main.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Audio Visualizer UI</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="css/styles.css" />
  <link rel="stylesheet" href="css/carouselToggle.css" />

  <!-- Social Media Meta -->
  <meta property="og:title" content="Audio Visualizer UI" />
  <meta property="og:description" content="Interactive audio visualizer and project showcase." />
  <meta property="og:image" content="assets/images/NTH_3.png" />
  <meta property="og:url" content="_stub_" />
  <meta property="og:type" content="website" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Audio Visualizer UI" />
  <meta name="twitter:description" content="Interactive audio visualizer and project showcase." />
  <meta name="twitter:image" content="assets/images/NTH_3.png" />
</head>

<body class="bg-dark text-light">
  <div class="container py-4">

    <!-- 🔼 Top Row -->
    <div class="row mb-4" style="height: 300px;">
      <div class="col-12 col-sm-6 h-100">
        <div class="top-left h-100 p-3 border border-warning rounded"
             style="background-image: url('assets/images/N_image.png'); background-size: contain; background-repeat: no-repeat; background-position: center;">
          Top Left
        </div>
      </div>
      <div class="col-12 col-sm-6 h-100">
        <div class="top-right h-100 p-3 border border-warning rounded overflow-auto">
          <h3 class="mb-3">Degrees &amp; Minors</h3>
          <ul>
            <li>B.S. Biology, minor Chemistry.</li>
            <li>B.S. Electrical and Computer Engineering, minor Math.
              <ul>
                <li>Dual tracks: Engineering and Computer Engineering</li>
              </ul>
            </li>
            <li>B.S. Physics, minor Computer Science</li>
            <li>Master's Degree in Data Science (May 2025 - present)</li>
            <li>GPA: 4.0</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- 🔽 Middle Section (Visualizer w/ Golden Ratio) -->
    <div class="row mb-4 justify-content-center">
      <div class="col-auto">
        <div class="visualizer bg-secondary bg-opacity-25 rounded overflow-hidden" style="width: 300px; height: 185px;">
          <div class="canvas-wrapper position-relative w-100 h-100">
            <canvas id="ui-canvas" class="position-absolute top-0 start-0 w-100 h-100"></canvas>
            <canvas id="viz-canvas" class="position-absolute top-0 start-0 w-100 h-100"></canvas>
          </div>
        </div>
      </div>
    </div>

    <!-- 🔁 Carousel Toggle -->
    <div class="middle-toggle d-flex justify-content-center align-items-center gap-3 mb-4">
      <button class="toggle-btn left electric-haze" aria-label="Previous Page">
        <div class="lightning-branch"></div>
      </button>
      <div class="preview-container d-flex justify-content-center align-items-center overflow-hidden rounded bg-secondary bg-opacity-25"
           tabindex="0" aria-live="polite" aria-atomic="true" style="width: 400px; height: 120px;">
        <img src="" alt="" class="img-fluid rounded" style="max-height: 100%;" />
      </div>
      <button class="toggle-btn right electric-haze" aria-label="Next Page">
        <div class="lightning-branch"></div>
      </button>
    </div>

    <!-- 🧠 Bottom Content -->
    <div class="bottom-content bg-secondary bg-opacity-25 rounded p-3">
      <!-- Dynamic content loads here -->
    </div>

  </div>

  <!-- 🔊 Hidden Audio Element -->
  <audio id="touch-audio" src="assets/audio/02_Load_CV.wav" preload="auto"></audio>

  <!-- 📦 JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="js/app.js" type="module"></script>

  <!-- 📱 Touch Sound Script -->
  <script>
    let hasPlayed = false;

    function isMobileDevice() {
      return /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
    }

    function enableTouchAudio() {
      if (!isMobileDevice() || hasPlayed) return;

      const audio = document.getElementById('touch-audio');

      // Attempt to play on first touch
      const playAudio = () => {
        audio.play().catch(err => {
          console.warn('Audio failed to play:', err);
        });
        hasPlayed = true;
        window.removeEventListener('touchstart', playAudio);
      };

      window.addEventListener('touchstart', playAudio, { once: true });
    }

    window.addEventListener('DOMContentLoaded', enableTouchAudio);
  </script>
</body>
</html>
